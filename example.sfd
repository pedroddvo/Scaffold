extern type Int = "int"
extern type USize = "size_t"
extern type String = "sfd_object*"

extern def Int.toUSize(a : Int) : USize = "sfd_int_to_usize"

extern def String.alloc(size cap : USize): String = "sfd_alloc_string"
extern def String.append(a : String, b : &String) : String = "sfd_string_append"

def main() : Int =
  let a = String.alloc(0.toUSize(), 10.toUSize());
  let b = "world!\n";
  let c = a.append(b).append("hello");
  0
